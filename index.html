<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
  ._7qjs {
    background-color: #e5ddd5;
    box-sizing: border-box;
    height: 100%;
    overflow: scroll;
    position: relative;
    width: 100%;
    z-index: 0;
}

._2pi0 {
    padding: 16px;
}

div {
    display: block;
    unicode-bidi: isolate;
}

._amck {
    background-color: rgba(17, 27, 33, .4);
    bottom: 0;
    left: 0;
    pointer-events: none;
    position: absolute;
    right: 0;
    top: 0;
    z-index: 1;
    opacity: 0;
}
._amco {
    background-color: #fff;
    border-top-left-radius: 25px;
    border-top-right-radius: 25px;
    bottom: 0;
    left: 0;
    padding-top: 25px;
    position: absolute;
    right: 0;
    min-height: 40;
    opacity: 0;
    transform: translateY(100%);
    z-index: 2;
}
._3-8o {
    margin-bottom: 12px;
    margin-top: 12px;
}
._3-8s {
    margin-left: 8px;
    margin-right: 8px;
}
._61ve a, ._61ve a[role='button'], ._61ve button, ._61ve dd, ._61ve div, ._61ve dt, ._61ve em, ._61ve h1, ._61ve h2, ._61ve h3, ._61ve h4, ._61ve h5, ._61ve h6, ._61ve input, ._61ve label, ._61ve li, ._61ve link, ._61ve meta, ._61ve p, ._61ve small, ._61ve span, ._61ve table, ._61ve td, ._61ve textarea, ._61ve th, ._61ve tr {
    font-family: inherit;
}
._6xe2 {
	margin: 0 auto;
    box-sizing: border-box;
    font-family: BlinkMacSystemFont, -apple-system, Roboto, Arial, sans-serif;
    max-width: 280px;
    position: relative;
}
._6xe2::after {
    background: url('https://static.xx.fbcdn.net/rsrc.php/v3/yT/r/cTpzmA9a2VH.png') 50% 50% no-repeat;
    background-size: contain;
    content: '';
    height: 31px;
    left: -12px;
    position: absolute;
    top: -6px;
    width: 12px;
}	  
._6xe3 {
    background-color: #fff;
    border-radius: 7.5px;
    border-top-left-radius: 0;
    box-shadow: 0 1px .5px rgba(0, 0, 0, .15);
    min-height: 20px;
    position: relative;
    word-wrap: break-word;
}
._70ru {
    position: relative;
}
._7r36 {
    color: rgba(0, 0, 0, .76);
    font-size: 15px;
    font-weight: bold;
    line-height: 19px;
    padding: 6px 7px 0 9px;
}
._6xdv {
    color: #262626;
    font-size: 13.6px;
    line-height: 19px;
    padding: 7px 7px 6px 9px;
}
._6xe4 {
    color: #282828;
    font-size: 13.6px;
    /*white-space: pre-wrap;*/
}
._amww {
    margin-right: 78px;
}
._7qiw {
    color: rgba(0, 0, 0, .45);
    font-size: 13px;
    line-height: 17px;
    padding: 0 7px 8px 9px;
}

._653d {
    display: inline-block;
}
._6xe5 {
    bottom: 3px;
    color: rgba(0, 0, 0, .4);
    font-size: 11px;
    height: 15px;
    line-height: 15px;
    position: absolute;
    right: 7px;
}
._alqy {
    border-top: 1px solid #dadde1;
    min-width: 240px;
    padding: 0 8px;
}
._3qng {
    align-items: center;
}
._61-1 {
    justify-content: center;
}
._2fyi {
    flex-direction: row;
}
._alr0 {
    border-top: 1px solid #dadde1;
    color: #00a5f4;
    font-size: 14px;
    height: 44px;
    line-height: 20px;
    min-width: 240px;
    white-space: pre-wrap;
}
._3qn7 {
    display: flex;
}
._85_p {
    background-image: url('https://static.xx.fbcdn.net/rsrc.php/v3/y0/r/OzOCQC-ukqH.png');
}
._3-8_ {
    margin-right: 4px;
}
._85_r {
    background-repeat: no-repeat;
    background-size: contain;
    flex-shrink: 0;
    height: 16px;
    opacity: .8;
    width: 16px;
}
._alqx {
    background-image: url('https://static.xx.fbcdn.net/rsrc.php/v3/ym/r/a1ABEwh1MaF.png');
    height: 10px;
}

._amf5 {
    background-image: url('https://static.xx.fbcdn.net/rsrc.php/v3/yC/r/VdTi0AVhe79.png');
}
._863c {
    background-image: url('https://static.xx.fbcdn.net/rsrc.php/v3/yO/r/8o77vvYFLgb.png');
}

._7zeb {
    padding: 3px 3px 0 3px;
}
._7r3f {
    background-image: url('https://static.xx.fbcdn.net/rsrc.php/v3/yV/r/FOtyeo41YsA.png');
}

._7r39 {
    background-color: #ccd0d5;
    background-position: center center;
    background-repeat: no-repeat;
    background-size: 80px 80px;
    border-radius: 4px;
    box-sizing: border-box;
    min-width: 240px;
}
  </style>
</head>

<body>
<div class="flex h-[100dvh] w-full">
  <div class="flex w-1/3 flex-col border-r border-gray-200 bg-gray-50 p-6 dark:border-gray-800 dark:bg-gray-900">
    <h2 class="mb-6 text-2xl font-bold">Message Template Builder</h2>
    <div class="space-y-6">
      <div class="space-y-2">
        <label
          class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
          for="header"
        >
          Header Text
        </label>
        <a id="show-header-menu" class="float-right" style="font-size:12px;margin-right:5px;" href="#"> Change type?</a>
            <div id="popup-menu" class="hidden absolute bg-white shadow-lg rounded-md mt-2 w-48 z-10">
        <ul>
            <li class="border-b border-gray-200">
                <a href="#" class="block px-4 py-2 hover:bg-gray-100">Text</a>
            </li>
            <li class="border-b border-gray-200">
                <a href="#" class="block px-4 py-2 hover:bg-gray-100">Media</a>
            </li>
            <li class="border-b border-gray-200">
                <a href="#" class="block px-4 py-2 hover:bg-gray-100">Location</a>
            </li>
            <li>
                <a href="#" class="block px-4 py-2 hover:bg-gray-100">Document</a>
            </li>
        </ul>
     </div>
               <input
            class="hidden flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
            id="header-video"
            type="file"
          />
            <input
            class=" hidden flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
            id="header-image"
            type="file"
          />
        <input
          class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
          id="header"
          placeholder="Enter header text"
        />
                  <a class="float-right" id="add_header_variable" style="font-size:12px;margin-right:5px;" href="#"> +Add Variable</a>
      </div>
 
      <div class="space-y-2">
        <label
          class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
          for="body"
        >
          Body Text
        </label>
        <div class="relative">
          <textarea
            class="flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 min-h-[150px] pr-16"
            id="body"
            placeholder="Enter body text"
            maxlength="1024"
          ></textarea>
          <div class="absolute top-2 right-4 text-sm text-gray-500 dark:text-gray-400">
            <span id="body-char-count">0</span>/1024
          </div>
        </div>
        <a class="float-right" id="add_body_variable" style="font-size:12px;margin-right:5px;" href="#"> +Add Variable</a>
      </div>
      <div class="inline-block"> 
        <label for="variable1">{{1}}</label>
        <input type="text" id="variable1" placeholder="Placeholder" class="px-2 py-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring"/>
        <a class="inline" href="#">x</a>
       </div>
      <div class="space-y-2">
        <label
          class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
          for="footer"
        >
          Footer Text
        </label>
        <input
          class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
          id="footer"
          placeholder="Enter footer text"
        />
      </div>
    </div>
  </div>
  
<div class="_7qjs _2pi0" style="height: 100%;">
<div aria-hidden="true" class="_amck">
</div><div aria-hidden="true" class="_amco">
</div><div class="_3-8s _3-8o"><div class="_6xe2"><div class="_6xe3">
<div class="_70ru">
 <div class="_7r36" dir="auto">
	<span class="msg_header" dir="auto" style="overflow-wrap: break-word; text-align: initial;">Payment of $12.34 due</span>
	</div>
	<!--<div class="_7zeb"><div class="_7r39 _7r3f"></div></div> -->
<div class="_6xdv"><span class="_6xe4">
<span class="msg_body" dir="auto" style="overflow-wrap: break-word; text-align: initial;">Hi John, <br><br>Payment of $12.34 for your CS Mutual debit plus card ending in 1234 is due on Jan 1, 2024.<br><br>Pay now to avoid late fees.</span>
</span>
</div>
<div class="_7qiw msg_footer" dir="auto">Please ignore this message if you've already paid.<span class="_amww _653d"></span></div><time aria-hidden="true" class="_6xe5">10:53 AM</time></div>
<!-- <div class="_alqy"><div class="_alr0 _3qn7 _61-1 _2fyi _3qng"><span aria-hidden="true" class="_85_r _3-8_ _85_p"></span><span class="_8752">Pay now</span></div> -->
<!--<div class="_alqy"><div class="_alr0 _3qn7 _61-1 _2fyi _3qng"><span aria-hidden="true" class="_85_r _3-8_ _alqx"></span><span class="_8752">Hey I am Done</span></div></div> -->
<!-- <div class="_alqy"><div class="_alr0 _3qn7 _61-1 _2fyi _3qng"><span aria-hidden="true" class="_85_r _3-8_ _amf5"></span><span class="_8752">Copy offer code</span></div></div> -->

<div class="_alqy"><div class="_alr0 _3qn7 _61-1 _2fyi _3qng"><span aria-hidden="true" class="_85_r _3-8_ _863c"></span><span class="_8752">WhatsApp Call Us Now</span></div></div>
</div></div>
</div>
</div>
</div>
    <script>

        let header_variable_counter = 1;
        let body_variable_counter = 1;
        // Get references to the textarea and span elements
        const textarea = document.getElementById('body');
        const span = document.querySelector('.msg_body');
        const charCountSpan = document.getElementById('body-char-count');

        textarea.addEventListener('input', function() {

            span.textContent = textarea.value;
            charCountSpan.textContent = textarea.value.length;
        });

        const header = document.getElementById('header');
        const header_span = document.querySelector('.msg_header');

        header.addEventListener('input', function() {

            header_span.textContent = header.value;
        });

        const footer = document.getElementById('footer');
        const footer_span = document.querySelector('.msg_footer');

        footer.addEventListener('input', function() {

            footer_span.textContent = footer.value;
        });

        const menuButton = document.getElementById('show-header-menu');
        const popupMenu = document.getElementById('popup-menu');

        menuButton.addEventListener('click', () => {
            popupMenu.classList.toggle('hidden');
        });

        // Close the popup menu when clicking outside of it
        document.addEventListener('click', (event) => {
            if (!menuButton.contains(event.target) && !popupMenu.contains(event.target)) {
                popupMenu.classList.add('hidden');
            }
        });

        document.getElementById('add_header_variable').addEventListener('click', function(event) {
            event.preventDefault(); // Prevent the default link behavior

            // HTML to be inserted
            const htmlToInsert = `
                <div class="inline-block">
                    <label for="variable${header_variable_counter}">{{${header_variable_counter}}}</label>
                    <input type="text" id="variable1" class="px-2 py-1 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring"/>
                    <a class="inline" id="remove_header_variable${header_variable_counter}" href="#">x</a>
                </div>
            `;

            this.insertAdjacentHTML('afterend', htmlToInsert);
            header_variable_counter++;
        });
    </script>
</body>

</html>
